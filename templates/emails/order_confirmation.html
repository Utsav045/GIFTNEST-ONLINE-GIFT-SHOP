{% extends "emails/base_email.html" %}

{% block title %}Order Confirmed! 🎉{% endblock %}
{% block subtitle %}Your Gift Journey is Underway{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <h1 style="margin: 0; color: white;">✅ Order Confirmed!</h1>
    </div>
    
    <p style="font-size: 18px; color: #4a5568; margin-bottom: 25px;">
        Dear <strong>{{ order.first_name }}</strong>,
    </p>

    <div style="background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; padding: 25px; border-radius: 12px; margin: 30px 0; text-align: center;">
        <h2 style="margin: 0 0 15px 0; color: white;">🎉 Thank You for Your Order!</h2>
        <p style="margin: 0; font-size: 16px; opacity: 0.9;">
            Your order has been successfully placed and is being processed with care.
        </p>
    </div>

    <div class="order-details">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
            <h3 style="margin: 0; color: #2d3748;">📦 Order #{{ order.id }}</h3>
            <span style="background: #48bb78; color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: 600;">
                Confirmed
            </span>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
            <div style="background: #f8fafc; padding: 15px; border-radius: 8px;">
                <strong style="color: #2d3748;">📅 Order Date</strong><br>
                <span style="color: #4a5568;">{{ order.created|date:"F j, Y" }}</span>
            </div>
            <div style="background: #f8fafc; padding: 15px; border-radius: 8px;">
                <strong style="color: #2d3748;">💰 Total Amount</strong><br>
                <span style="color: #4a5568; font-weight: 600;">${{ order.get_total_cost }}</span>
            </div>
        </div>
        
        <h4 style="color: #2d3748; margin: 25px 0 15px 0;">🛍️ Order Items</h4>
        <table>
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                {% for item in order.items.all %}
                    <tr>
                        <td style="font-weight: 500;">{{ item.product.name }}</td>
                        <td>{{ item.quantity }}</td>
                        <td>${{ item.price }}</td>
                        <td style="font-weight: 600;">${{ item.get_cost }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        
        <div class="order-total">
            <strong>Total Amount: ${{ order.get_total_cost }}</strong>
        </div>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0;">
        <div style="background: #f8fafc; border-radius: 12px; padding: 25px; border: 1px solid #e2e8f0;">
            <h4 style="color: #2d3748; margin: 0 0 15px 0;">🚚 Shipping Address</h4>
            <p style="margin: 0; color: #4a5568; line-height: 1.6;">
                <strong>{{ order.first_name }} {{ order.last_name }}</strong><br>
                {{ order.address }}<br>
                {{ order.city }}, {{ order.postal_code }}
            </p>
        </div>
        
        <div style="background: #f8fafc; border-radius: 12px; padding: 25px; border: 1px solid #e2e8f0;">
            <h4 style="color: #2d3748; margin: 0 0 15px 0;">📧 Contact Info</h4>
            <p style="margin: 0; color: #4a5568; line-height: 1.6;">
                <strong>Email:</strong> {{ order.email }}<br>
                <strong>Phone:</strong> {{ order.phone|default:"Not provided" }}
            </p>
        </div>
    </div>

    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 12px; margin: 30px 0; text-align: center;">
        <h3 style="margin: 0 0 15px 0; color: white;">📦 What's Next?</h3>
        <p style="margin: 0 0 20px 0; opacity: 0.9;">
            We'll send you tracking information as soon as your order ships!
        </p>
        <div style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap;">
            <div style="background: rgba(255,255,255,0.2); padding: 10px 15px; border-radius: 20px; font-size: 14px;">
                📋 Order Processing
            </div>
            <div style="background: rgba(255,255,255,0.2); padding: 10px 15px; border-radius: 20px; font-size: 14px;">
                📦 Packaging
            </div>
            <div style="background: rgba(255,255,255,0.2); padding: 10px 15px; border-radius: 20px; font-size: 14px;">
                🚚 Shipping
            </div>
            <div style="background: rgba(255,255,255,0.2); padding: 10px 15px; border-radius: 20px; font-size: 14px;">
                🎁 Delivery
            </div>
        </div>
    </div>

    <div style="text-align: center; margin: 40px 0;">
        <a href="http://localhost:8000{% url 'orders:order_detail' order.id %}" class="button" style="font-size: 18px; padding: 16px 32px;">
            📋 View Order Details
        </a>
    </div>

    <div style="background: #f8fafc; border-radius: 12px; padding: 25px; margin: 30px 0; border: 1px solid #e2e8f0;">
        <h4 style="color: #2d3748; margin: 0 0 15px 0;">💡 Need Help?</h4>
        <p style="margin: 0 0 15px 0; color: #4a5568;">
            If you have any questions about your order, our customer service team is here to help!
        </p>
        <div style="display: flex; gap: 15px; flex-wrap: wrap;">
            <a href="mailto:support@giftnest.com" style="color: #667eea; text-decoration: none; font-weight: 600;">
                📧 Email Support
            </a>
            <a href="tel:+1234567890" style="color: #667eea; text-decoration: none; font-weight: 600;">
                📞 Call Us
            </a>
            <a href="https://giftnest.com/support" style="color: #667eea; text-decoration: none; font-weight: 600;">
                💬 Live Chat
            </a>
        </div>
    </div>

    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 25px; border-radius: 12px; margin: 30px 0; text-align: center;">
        <h3 style="margin: 0 0 15px 0; color: white;">🎁 While You Wait...</h3>
        <p style="margin: 0 0 20px 0; opacity: 0.9;">
            Explore more amazing gifts for your next occasion!
        </p>
        <a href="http://localhost:8000{% url 'products:product_list' %}" style="color: white; text-decoration: none; font-weight: 600; border: 2px solid white; padding: 10px 20px; border-radius: 25px; display: inline-block;">
            🛍️ Continue Shopping
        </a>
    </div>

    <p style="font-size: 16px; color: #4a5568; margin: 30px 0 20px 0;">
        Thank you for choosing GiftNest! We're excited to deliver your perfect gifts.
    </p>

    <p style="font-size: 16px; color: #4a5568; margin: 20px 0;">
        Happy gifting! 🎉<br>
        <strong>The GiftNest Team</strong>
    </p>
</div>
{% endblock %}
